# Descargo el archivo mediante su id de google drive
# El link de los archivos de drive tiene esta forma:
# https://docs.google.com/spreadsheets/d/16_zhdrZIW72I45SHIsVkGv-KYQw1oeup
# El id de esta hoja de cálculo es "16_zhdrZIW72I45SHIsVkGv-KYQw1oeup"
googledrive::drive_download(as_id("10DMEGyZUcNUpHCZN_tLg5GgnoafbmxDZKGtu6CzEDbk"),
overwrite = T)
# Descargo el archivo mediante su id de google drive
# El link de los archivos de drive tiene esta forma:
# https://docs.google.com/spreadsheets/d/16_zhdrZIW72I45SHIsVkGv-KYQw1oeup
# El id de esta hoja de cálculo es "16_zhdrZIW72I45SHIsVkGv-KYQw1oeup"
googledrive::drive_download(as_id("10DMEGyZUcNUpHCZN_tLg5GgnoafbmxDZKGtu6CzEDbk"),
overwrite = T)
# Instalo los paquetes necesarios (si aún no los tengo instalados)
install.packages("googledrive")
install.packages("readxl")
install.packages("readxl")
# Descargo el archivo mediante su id de google drive
# El link de los archivos de drive tiene esta forma:
# https://docs.google.com/spreadsheets/d/16_zhdrZIW72I45SHIsVkGv-KYQw1oeup
# El id de esta hoja de cálculo es "16_zhdrZIW72I45SHIsVkGv-KYQw1oeup"
googledrive::drive_download(as_id("10DMEGyZUcNUpHCZN_tLg5GgnoafbmxDZKGtu6CzEDbk"),
overwrite = T)
# Instalo los paquetes necesarios (si aún no los tengo instalados)
install.packages("googledrive")
# Descargo el archivo mediante su id de google drive
# El link de los archivos de drive tiene esta forma:
# https://docs.google.com/spreadsheets/d/16_zhdrZIW72I45SHIsVkGv-KYQw1oeup
# El id de esta hoja de cálculo es "16_zhdrZIW72I45SHIsVkGv-KYQw1oeup"
googledrive::drive_download(as_id("10DMEGyZUcNUpHCZN_tLg5GgnoafbmxDZKGtu6CzEDbk"),
overwrite = T)
# Veo la estructura del dataset
str(datos)
# Descargo el archivo mediante su id de google drive
# El link de los archivos de drive tiene esta forma:
# https://docs.google.com/spreadsheets/d/16_zhdrZIW72I45SHIsVkGv-KYQw1oeup
# El id de esta hoja de cálculo es "16_zhdrZIW72I45SHIsVkGv-KYQw1oeup"
googledrive::drive_download(as_id("16_zhdrZIW72I45SHIsVkGv-KYQw1oeup"),
overwrite = T)
# Cargo el archivo como .xlsx
datos <- readxl::read_excel("arbol.xlsx",
col_names = FALSE,
skip = 3)
# Veo la estructura del dataset
str(datos)
# Descargo el archivo mediante su id de google drive
# El link de los archivos de drive tiene esta forma:
# https://docs.google.com/spreadsheets/d/16_zhdrZIW72I45SHIsVkGv-KYQw1oeup
# El id de esta hoja de cálculo es "16_zhdrZIW72I45SHIsVkGv-KYQw1oeup"
googledrive::drive_download(as_id("10DMEGyZUcNUpHCZN_tLg5GgnoafbmxDZKGtu6CzEDbk"),
overwrite = T)
# Cargo el archivo como .xlsx
datos <- readxl::read_excel("Datos_LP",
col_names = FALSE,
skip = 3)
# Veo la estructura del dataset
str(datos)
# Descargo el archivo mediante su id de google drive
# El link de los archivos de drive tiene esta forma:
# https://docs.google.com/spreadsheets/d/16_zhdrZIW72I45SHIsVkGv-KYQw1oeup
# El id de esta hoja de cálculo es "16_zhdrZIW72I45SHIsVkGv-KYQw1oeup"
googledrive::drive_download(as_id("10DMEGyZUcNUpHCZN_tLg5GgnoafbmxDZKGtu6CzEDbk"),
overwrite = T)
# Cargo el archivo como .xlsx
datos <- readxl::read_excel("Datos_LP",
col_names = FALSE,
skip = 3)
# Veo la estructura del dataset
str(datos)
# Descargo el archivo mediante su id de google drive
# El link de los archivos de drive tiene esta forma:
# https://docs.google.com/spreadsheets/d/16_zhdrZIW72I45SHIsVkGv-KYQw1oeup
# El id de esta hoja de cálculo es "16_zhdrZIW72I45SHIsVkGv-KYQw1oeup"
googledrive::drive_download(as_id("10DMEGyZUcNUpHCZN_tLg5GgnoafbmxDZKGtu6CzEDbk"),
overwrite = T)
# Descargo el archivo mediante su id de google drive
# El link de los archivos de drive tiene esta forma:
# https://docs.google.com/spreadsheets/d/16_zhdrZIW72I45SHIsVkGv-KYQw1oeup
# El id de esta hoja de cálculo es "16_zhdrZIW72I45SHIsVkGv-KYQw1oeup"
googledrive::drive_download(as_id("10DMEGyZUcNUpHCZN_tLg5GgnoafbmxDZKGtu6CzEDbk"),
overwrite = T)
# Cargo el archivo como .xlsx
datos <- readxl::read_excel("Datos_LP.xlsx",
col_names = FALSE,
skip = 3)
# Veo la estructura del dataset
str(datos)
# Instalo los paquetes necesarios (si aún no los tengo instalados)
install.packages("tidyverse")
# Cargo el archivo como .xlsx
datos <- readxl::read_excel("Datos_LP.xlsx",
col_names = FALSE,
skip = 2)
# Veo la estructura del dataset
str(datos)
# Cargo el archivo como .xlsx
datos <- readxl::read_excel("Datos_LP.xlsx",
col_names = FALSE,
skip = 2)
# Veo la estructura del dataset
str(datos)
# Descargo el archivo mediante su id de google drive
# El link de los archivos de drive tiene esta forma:
# https://docs.google.com/spreadsheets/d/16_zhdrZIW72I45SHIsVkGv-KYQw1oeup
# El id de esta hoja de cálculo es "16_zhdrZIW72I45SHIsVkGv-KYQw1oeup"
googledrive::drive_download(as_id("10DMEGyZUcNUpHCZN_tLg5GgnoafbmxDZKGtu6CzEDbk"),
overwrite = T)
# Cargo el archivo como .xlsx
datos <- readxl::read_excel("Datos_LP.xlsx",
col_names = FALSE,
skip = 1)
# Veo la estructura del dataset
str(datos)
# Descargo el archivo mediante su id de google drive
# El link de los archivos de drive tiene esta forma:
# https://docs.google.com/spreadsheets/d/16_zhdrZIW72I45SHIsVkGv-KYQw1oeup
# El id de esta hoja de cálculo es "16_zhdrZIW72I45SHIsVkGv-KYQw1oeup"
googledrive::drive_download(as_id("10DMEGyZUcNUpHCZN_tLg5GgnoafbmxDZKGtu6CzEDbk"),
overwrite = T)
# Cargo el archivo como .xlsx
datos <- readxl::read_excel("Datos_LP.xlsx",
col_names = TRUE,
skip = 2)
# Veo la estructura del dataset
str(datos)
("readxl")
("readxl")
("readxl")
# Descargo el archivo mediante su id de google drive
# El link de los archivos de drive tiene esta forma:
# https://docs.google.com/spreadsheets/d/16_zhdrZIW72I45SHIsVkGv-KYQw1oeup
# El id de esta hoja de cálculo es "16_zhdrZIW72I45SHIsVkGv-KYQw1oeup"
googledrive::drive_download(as_id("10DMEGyZUcNUpHCZN_tLg5GgnoafbmxDZKGtu6CzEDbk"),
overwrite = T)
# Cargo el archivo como .xlsx
datos <- readxl::read_excel("Datos_LP.xlsx",
col_names = TRUE,
na = "",
skip = 2)
# Veo la estructura del dataset
str(datos)
# Descargo el archivo mediante su id de google drive
# El link de los archivos de drive tiene esta forma:
# https://docs.google.com/spreadsheets/d/16_zhdrZIW72I45SHIsVkGv-KYQw1oeup
# El id de esta hoja de cálculo es "16_zhdrZIW72I45SHIsVkGv-KYQw1oeup"
googledrive::drive_download(as_id("10DMEGyZUcNUpHCZN_tLg5GgnoafbmxDZKGtu6CzEDbk"),
overwrite = T)
# Cargo el archivo como .xlsx
datos <- readxl::read_excel("Datos_LP.xlsx",
col_names = TRUE,
col_types = "text",
na = "",
skip = 2)
# Veo la estructura del dataset
str(datos)
# Descargo el archivo mediante su id de google drive
# El link de los archivos de drive tiene esta forma:
# https://docs.google.com/spreadsheets/d/16_zhdrZIW72I45SHIsVkGv-KYQw1oeup
# El id de esta hoja de cálculo es "16_zhdrZIW72I45SHIsVkGv-KYQw1oeup"
googledrive::drive_download(as_id("10DMEGyZUcNUpHCZN_tLg5GgnoafbmxDZKGtu6CzEDbk"),
overwrite = T)
# Cargo el archivo como .xlsx
datos <- readxl::read_excel("Datos_LP.xlsx",
col_names = FALSE,
skip = 3)
# Veo la estructura del dataset
str(datos)
# Fijo el dataset
attach(datos)
######################
# Renombrar columnas #
######################
colnames(datos) <- readxl::read_excel("Datos_LP.xlsx",
col_names = FALSE,
range = "D3:DN3",
)
######################
# Renombrar columnas #
######################
tincho <- readxl::read_excel("Datos_LP.xlsx",
col_names = FALSE,
range = "D3:DN3",
)
colnames(datos) <- tincho
str(tincho)
######################
# Renombrar columnas #
######################
tincho <- readxl::read_excel("Datos_LP.xlsx",
col_names = FALSE,
na = "",
range = "D3:DN3",
)
colnames(datos) <- tincho
str(tincho)
######################
# Renombrar columnas #
######################
tincho <- readxl::read_excel("Datos_LP.xlsx",
col_names = FALSE,
na = " ",
range = "D3:DN3",
)
colnames(datos) <- tincho
str(tincho)
######################
# Renombrar columnas #
######################
tincho <- readxl::read_excel("Datos_LP.xlsx",
col_names = FALSE,
trim_ws = TRUE,
range = "D3:DN3",
)
colnames(datos) <- tincho
str(tincho)
######################
# Renombrar columnas #
######################
tincho <- readxl::read_excel("Datos_LP.xlsx",
col_names = FALSE,
trim_ws = TRUE,
range = "D3:DN3",
)
colnames(datos) <- tincho
str(colnames(datos))
###################
# Modificar datos #
###################
datos_limpios <- datos %>% # Los pipelines permiten encadenar acciones
mutate(   # Para crear nuevas variables y editar las ya existentes
# Veo valores min y max de la variable para elegir una
# particion en intervalos apropiada
# min(altura)
# max(altura)
# sqrt(nrow(datos))
# Creo una variable nueva, con la partición en intervalos de altura
altura_int = cut(altura,
breaks = seq(from=0, to=50, by = 5),
right = F),
# Modifico las columnas de la variable de respuesta múltiple
# para dejarlas como indicadoras con valores 1 (en caso de presentar
# el atributo) y 0 (en caso de no presentarlo)
atracnosis = ifelse( atracnosis == "atracnosis", 1, 0 ),
roya = ifelse( roya == "roya", 1, 0 ),
manchas = ifelse( manchas == "manchas", 1, 0 ),
ampollas = ifelse( ampollas == "ampollas", 1, 0),
# Notar que los NA no entran dentro de la categoría "no presentar
# el atributo", por lo que requieren un tratamiento particular:
atracnosis = ifelse(is.na(atracnosis), 0, 1),
roya = ifelse(is.na(roya), 0, 1),
manchas = ifelse(is.na(manchas), 0, 1),
ampollas = ifelse(is.na(ampollas), 0, 1),
# Esto solo es correcto porque teníamos dos valores posibles en estas
# columnas: presencia de atributo (nombre de la plaga) y ausencia (NA).
# En los casos en los que se presenten ambas categorías además del NA
# correspondería trabajarlos como tres valores distintos (presencia,
# ausencia y faltante) y su tratamiento dependerá de lo que se desee hacer
# Para condiciones ifelse múltiples puedo usar la función case_when
inclinacion_cate = case_when(inclinacion == 0 ~ "Sin inclinación",
inclinacion < 15 ~ "Inclinación leve",
inclinacion < 30 ~ "Inclinación moderada",
TRUE ~ "Inclinación alta"),
# Recodifico las etiquetas de una variable categórica
especie = recode(especie, "ala" = "Álamo",
"casu" = "Casuarina",
"euca" = "Eucalipto",
"jaca" = "Jacarandá",
"palo"  = "Palo borracho"),
# Especifico ordinalidad a las categorías de una variable
tiempo = factor(tiempo,
levels = 1:5,
labels = c("Menos de 2 años", "Entre 2 y 5 años",
"Entre 5 y 10 años", "Entre 10 y 20 años",
"20 años o más"))
)
# Cargo los paquetes que voy a usar
library(tidyverse)
# Fijo el dataset
attach(datos)
######################
# Renombrar columnas #
######################
tincho <- readxl::read_excel("Datos_LP.xlsx",
col_names = FALSE,
trim_ws = TRUE,
range = "D3:DN3",
)
colnames(datos) <- tincho
str(colnames(datos))
###################
# Modificar datos #
###################
datos_limpios <- datos %>% # Los pipelines permiten encadenar acciones
mutate(   # Para crear nuevas variables y editar las ya existentes
# Veo valores min y max de la variable para elegir una
# particion en intervalos apropiada
# min(altura)
# max(altura)
# sqrt(nrow(datos))
# Creo una variable nueva, con la partición en intervalos de altura
altura_int = cut(altura,
breaks = seq(from=0, to=50, by = 5),
right = F),
# Modifico las columnas de la variable de respuesta múltiple
# para dejarlas como indicadoras con valores 1 (en caso de presentar
# el atributo) y 0 (en caso de no presentarlo)
atracnosis = ifelse( atracnosis == "atracnosis", 1, 0 ),
roya = ifelse( roya == "roya", 1, 0 ),
manchas = ifelse( manchas == "manchas", 1, 0 ),
ampollas = ifelse( ampollas == "ampollas", 1, 0),
# Notar que los NA no entran dentro de la categoría "no presentar
# el atributo", por lo que requieren un tratamiento particular:
atracnosis = ifelse(is.na(atracnosis), 0, 1),
roya = ifelse(is.na(roya), 0, 1),
manchas = ifelse(is.na(manchas), 0, 1),
ampollas = ifelse(is.na(ampollas), 0, 1),
# Esto solo es correcto porque teníamos dos valores posibles en estas
# columnas: presencia de atributo (nombre de la plaga) y ausencia (NA).
# En los casos en los que se presenten ambas categorías además del NA
# correspondería trabajarlos como tres valores distintos (presencia,
# ausencia y faltante) y su tratamiento dependerá de lo que se desee hacer
# Para condiciones ifelse múltiples puedo usar la función case_when
inclinacion_cate = case_when(inclinacion == 0 ~ "Sin inclinación",
inclinacion < 15 ~ "Inclinación leve",
inclinacion < 30 ~ "Inclinación moderada",
TRUE ~ "Inclinación alta"),
# Recodifico las etiquetas de una variable categórica
especie = recode(especie, "ala" = "Álamo",
"casu" = "Casuarina",
"euca" = "Eucalipto",
"jaca" = "Jacarandá",
"palo"  = "Palo borracho"),
# Especifico ordinalidad a las categorías de una variable
tiempo = factor(tiempo,
levels = 1:5,
labels = c("Menos de 2 años", "Entre 2 y 5 años",
"Entre 5 y 10 años", "Entre 10 y 20 años",
"20 años o más"))
)
######################
# Renombrar columnas #
######################
tincho <- readxl::read_excel("Datos_LP.xlsx",
col_names = FALSE,
trim_ws = TRUE,
range = "D3:DN3",
)
colnames(datos) <- tincho
str(colnames(datos))
# Fijo el dataset
attach(datos)
######################
# Renombrar columnas #
######################
tincho <- readxl::read_excel("Datos_LP.xlsx",
col_names = FALSE,
na = "NA",
trim_ws = TRUE,
range = "D3:DN3",
)
colnames(datos) <- tincho
str(tincho)
# Fijo el dataset
attach(datos)
######################
# Renombrar columnas #
######################
tincho <- readxl::read_excel("Datos_LP.xlsx",
col_names = FALSE,
na = "NA",
range = "D3:DN3",
)
colnames(datos) <- tincho
str(tincho)
######################
# Renombrar columnas #
######################
tincho <- readxl::read_excel("Datos_LP.xlsx",
col_names = FALSE,
na = "NA",
range = "D3:DN3",
)
colnames(datos) <- tincho
str(tincho)
###################
# Modificar datos #
###################
datos_limpios <- datos %>% # Los pipelines permiten encadenar acciones
mutate(   # Para crear nuevas variables y editar las ya existentes
# Veo valores min y max de la variable para elegir una
# particion en intervalos apropiada
# min(altura)
# max(altura)
# sqrt(nrow(datos))
# Creo una variable nueva, con la partición en intervalos de altura
altura_int = cut(altura,
breaks = seq(from=0, to=50, by = 5),
right = F),
# Modifico las columnas de la variable de respuesta múltiple
# para dejarlas como indicadoras con valores 1 (en caso de presentar
# el atributo) y 0 (en caso de no presentarlo)
atracnosis = ifelse( atracnosis == "atracnosis", 1, 0 ),
roya = ifelse( roya == "roya", 1, 0 ),
manchas = ifelse( manchas == "manchas", 1, 0 ),
ampollas = ifelse( ampollas == "ampollas", 1, 0),
# Notar que los NA no entran dentro de la categoría "no presentar
# el atributo", por lo que requieren un tratamiento particular:
atracnosis = ifelse(is.na(atracnosis), 0, 1),
roya = ifelse(is.na(roya), 0, 1),
manchas = ifelse(is.na(manchas), 0, 1),
ampollas = ifelse(is.na(ampollas), 0, 1),
# Esto solo es correcto porque teníamos dos valores posibles en estas
# columnas: presencia de atributo (nombre de la plaga) y ausencia (NA).
# En los casos en los que se presenten ambas categorías además del NA
# correspondería trabajarlos como tres valores distintos (presencia,
# ausencia y faltante) y su tratamiento dependerá de lo que se desee hacer
# Para condiciones ifelse múltiples puedo usar la función case_when
inclinacion_cate = case_when(inclinacion == 0 ~ "Sin inclinación",
inclinacion < 15 ~ "Inclinación leve",
inclinacion < 30 ~ "Inclinación moderada",
TRUE ~ "Inclinación alta"),
# Recodifico las etiquetas de una variable categórica
especie = recode(especie, "ala" = "Álamo",
"casu" = "Casuarina",
"euca" = "Eucalipto",
"jaca" = "Jacarandá",
"palo"  = "Palo borracho"),
# Especifico ordinalidad a las categorías de una variable
tiempo = factor(tiempo,
levels = 1:5,
labels = c("Menos de 2 años", "Entre 2 y 5 años",
"Entre 5 y 10 años", "Entre 10 y 20 años",
"20 años o más"))
)
######################
# Renombrar columnas #
######################
tincho <- readxl::read_excel("Datos_LP.xlsx",
col_names = FALSE,
na = "NA",
range = "D3:DN3",
)
colnames(datos) <- tincho
na.omit(tincho)
str(tincho)
######################
# Renombrar columnas #
######################
tincho <- readxl::read_excel("Datos_LP.xlsx",
col_names = FALSE,
na = "NA",
range = "D3:DN3",
)
colnames(datos) <- tincho
tincho <- na.omit(tincho)
str(tincho)
# Cargo los paquetes que voy a usar
library(tidyverse)
# Fijo el dataset
attach(datos)
# Cargo los paquetes que voy a usar
library(tidyverse)
# Fijo el dataset
attach(datos)
######################
# Renombrar columnas #
######################
# Lee los datos
tincho <- readxl::read_excel("Datos_LP.xlsx",
col_names = FALSE,
na = "NA",
range = "D3:DN3")
# Limpia NA en los nombres (reemplazándolos con "col_X")
nombres_columnas <- ifelse(is.na(tincho),
paste0("col_", seq_along(tincho)),
tincho)
# Asigna los nombres limpios
colnames(datos) <- nombres_columnas
str(tincho)
######################
# Renombrar columnas #
######################
# Lee los datos
tincho <- readxl::read_excel("Datos_LP.xlsx",
col_names = FALSE,
na = "NA",
range = "D3:DN3")
# Limpia NA en los nombres (reemplazándolos con "col_X")
nombres_columnas <- ifelse(is.na(tincho),
paste0("col_", seq_along(tincho)),
tincho)
# Asigna los nombres limpios
colnames(datos) <- nombres_columnas
tincho <- colnames(datos)
str(tincho)
# Fijo el dataset
attach(datos)
######################
# Renombrar columnas #
######################
# Lee los datos
tincho <- readxl::read_excel("Datos_LP.xlsx",
col_names = FALSE,
na = "NA",
range = "D3:DN3")
# Limpia NA en los nombres (reemplazándolos con "col_X")
nombres_columnas <- ifelse(is.na(tincho),
paste0("col_", seq_along(tincho)),
tincho)
# Asigna los nombres limpios
colnames(datos) <- nombres_columnas
tincho <- nombres_columnas
str(tincho)
